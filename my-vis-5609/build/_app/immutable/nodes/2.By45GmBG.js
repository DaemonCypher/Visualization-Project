import{a as C,t as M}from"../chunks/DPA7IuyW.js";import{D as B,F,G as K,q as V,V as ie,b as le,h as y,y as N,w as se,p as k,H as fe,x as P,z as D,c as A,a8 as q,A as Z,a as $,B as ue,R as j,a9 as ve,Q as oe,aa as _e,d as ce,J as de,ab as he,N as pe,ac as ge,s as G,ad as me,ae as be,af as xe,L as ye,v as ke,ag as ee,a5 as S,f as Ee,k as Y,ah as J,a6 as O,a7 as R,a4 as Q,ai as we}from"../chunks/Ds_M7LIP.js";import{d as Ae,s as U}from"../chunks/DU2cWTtF.js";import{i as Ie,a as Te,p as Ce}from"../chunks/DSH7eKcT.js";let W=!1;function Se(){W||(W=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var e;if(!r.defaultPrevented)for(const a of r.target.elements)(e=a.__on_r)==null||e.call(a)})},{capture:!0}))}function Re(r){var e=K,a=V;B(null),F(null);try{return r()}finally{B(e),F(a)}}function qe(r,e,a,n=a){r.addEventListener(e,()=>Re(a));const i=r.__on_r;i?r.__on_r=()=>{i(),n(!0)}:r.__on_r=()=>n(!0),Se()}function Me(r,e){return e}function He(r,e,a,n){for(var i=[],s=e.length,u=0;u<s;u++)ve(e[u].e,i,!0);var d=s>0&&i.length===0&&a!==null;if(d){var h=a.parentNode;oe(h),h.append(a),n.clear(),x(r,e[0].prev,e[s-1].next)}_e(i,()=>{for(var c=0;c<s;c++){var _=e[c];d||(n.delete(_.k),x(r,_.prev,_.next)),ce(_.e,!d)}})}function Le(r,e,a,n,i,s=null){var u=r,d={flags:e,items:new Map,first:null};{var h=r;u=y?N(de(h)):h.appendChild(ie())}y&&se();var c=null,_=!1,t=he(()=>{var f=a();return ke(f)?f:f==null?[]:j(f)});le(()=>{var f=k(t),l=f.length;if(_&&l===0)return;_=l===0;let v=!1;if(y){var p=u.data===fe;p!==(l===0)&&(u=P(),N(u),D(!1),v=!0)}if(y){for(var E=null,m,o=0;o<l;o++){if(A.nodeType===8&&A.data===pe){u=A,v=!0,D(!1);break}var g=f[o],T=n(g,o);m=ae(A,d,E,null,g,T,o,i,e,a),d.items.set(T,m),E=m}l>0&&N(P())}if(!y){var w=K;Ne(f,d,u,i,e,(w.f&q)!==0,n,a)}s!==null&&(l===0?c?Z(c):c=$(()=>s(u)):c!==null&&ue(c,()=>{c=null})),v&&D(!0),k(t)}),y&&(u=A)}function Ne(r,e,a,n,i,s,u,d){var h=r.length,c=e.items,_=e.first,t=_,f,l=null,v=[],p=[],E,m,o,g;for(g=0;g<h;g+=1){if(E=r[g],m=u(E,g),o=c.get(m),o===void 0){var T=t?t.e.nodes_start:a;l=ae(T,e,l,l===null?e.first:l.next,E,m,g,n,i,d),c.set(m,l),v=[],p=[],t=l.next;continue}if(o.e.f&q&&Z(o.e),o!==t){if(f!==void 0&&f.has(o)){if(v.length<p.length){var w=p[0],b;l=w.prev;var z=v[0],H=v[v.length-1];for(b=0;b<v.length;b+=1)X(v[b],w,a);for(b=0;b<p.length;b+=1)f.delete(p[b]);x(e,z.prev,H.next),x(e,l,z),x(e,H,w),t=w,l=H,g-=1,v=[],p=[]}else f.delete(o),X(o,t,a),x(e,o.prev,o.next),x(e,o,l===null?e.first:l.next),x(e,l,o),l=o;continue}for(v=[],p=[];t!==null&&t.k!==m;)(s||!(t.e.f&q))&&(f??(f=new Set)).add(t),p.push(t),t=t.next;if(t===null)continue;o=t}v.push(o),l=o,t=o.next}if(t!==null||f!==void 0){for(var L=f===void 0?[]:j(f);t!==null;)(s||!(t.e.f&q))&&L.push(t),t=t.next;var te=L.length;if(te>0){var ne=h===0?a:null;He(e,L,ne,c)}}V.first=e.first&&e.first.e,V.last=l&&l.e}function ae(r,e,a,n,i,s,u,d,h,c){var _=(h&be)!==0,t=(h&xe)===0,f=_?t?ge(i):G(i):i,l=h&me?G(u):u,v={i:l,v:f,k:s,a:null,e:null,prev:a,next:n};try{return v.e=$(()=>d(r,f,l,c),y),v.e.prev=a&&a.e,v.e.next=n&&n.e,a===null?e.first=v:(a.next=v,a.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function X(r,e,a){for(var n=r.next?r.next.e.nodes_start:a,i=e?e.e.nodes_start:a,s=r.e.nodes_start;s!==n;){var u=ye(s);i.before(s),s=u}}function x(r,e,a){e===null?r.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function re(r,e,a){if(r.multiple)return Ve(r,e);for(var n of r.options){var i=I(n);if(Ie(i,e)){n.selected=!0;return}}(!a||e!==void 0)&&(r.selectedIndex=-1)}function De(r,e){ee(()=>{var a=new MutationObserver(()=>{var n=r.__value;re(r,n)});return a.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Oe(r,e,a=e){var n=!0;qe(r,"change",i=>{var s=i?"[selected]":":checked",u;if(r.multiple)u=[].map.call(r.querySelectorAll(s),I);else{var d=r.querySelector(s)??r.querySelector("option:not([disabled])");u=d&&I(d)}a(u)}),ee(()=>{var i=e();if(re(r,i,n),n&&i===void 0){var s=r.querySelector(":checked");s!==null&&(i=I(s),a(i))}r.__value=i,n=!1}),De(r)}function Ve(r,e){for(var a of r.options)a.selected=~e.indexOf(I(a))}function I(r){return"__value"in r?r.__value:r.value}function Ye(r,e){Y(e,k(e)-1)}var ze=(r,e,a)=>Y(e,Ce(k(a))),Be=M("<option> </option>"),Fe=M('<p id="info"> </p>'),Pe=M("<p>No more clicks allowed</p>"),Ge=M(`<h1>William Yang's VIS Site</h1> <img width="200px" src="../monk.jpg" alt="monkey"> <div>You can click up to <select></select> times</div> <button class="svelte-1vzo2i4">Click Me</button>  <!>`,1);function Xe(r){let e=J(0),a=J(0);var n=Ge(),i=S(Ee(n),4),s=S(O(i));s.__change=[ze,a,e],Le(s,20,()=>[2,4,6],Me,(_,t)=>{var f=Be(),l={},v=O(f,!0);R(f),Q(()=>{l!==(l=t)&&(f.value=(f.__value=t)==null?"":t),U(v,t)}),C(_,f)}),R(s),we(),R(i);var u=S(i,2);u.__click=[Ye,a];var d=S(u,2);{var h=_=>{var t=Fe(),f=O(t);R(t),Q(()=>U(f,`Remaining Number of Clicks: ${k(a)??""}`)),C(_,t)},c=_=>{var t=Pe();C(_,t)};Te(d,_=>{k(a)>0?_(h):_(c,!1)})}Oe(s,()=>k(e),_=>Y(e,_)),C(r,n)}Ae(["change","click"]);export{Xe as component};
